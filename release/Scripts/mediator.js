define(["require","exports"],function(e,t){function n(e){console.log("publish: "+e);if(!t.channels[e])return;var n=Array.prototype.slice.call(arguments,1);for(var r=0;r<t.channels[e].length;r++){var i=t.channels[e][r];i.callback.apply(i.context,n)}}function r(e,n){console.log("subscribe: "+e),t.channels[e]||(t.channels[e]=[]),t.channels[e].push({context:this,callback:n})}t.channels={},t.publish=n,t.subscribe=r})